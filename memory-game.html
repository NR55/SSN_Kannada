<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Character Memory Game</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      background-color: #f0f8ff;
      padding: 20px;
    }
    
    h1 {
      color: #2c3e50;
      margin-bottom: 10px;
    }
    
    .game-info {
      display: flex;
      justify-content: space-between;
      width: 500px;
      margin-bottom: 20px;
    }
    
    .game-board {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-template-rows: repeat(2, 1fr);
      gap: 10px;
      width: 500px;
      margin-bottom: 20px;
    }
    
    .card {
      height: 120px;
      background-color: #3498db;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: transform 0.3s ease;
      transform-style: preserve-3d;
    }
    
    .card:hover {
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }
    
    .card.flipped {
      transform: rotateY(180deg);
    }
    
    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 5px;
    }
    
    .card-front {
      background-color: #3498db;
      transform: rotateY(180deg);
    }
    
    .card-back {
      background-color: #2980b9;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>');
      background-repeat: no-repeat;
      background-position: center;
    }
    
    .character {
      font-size: 48px;
      color: white;
    }
    
    button {
      padding: 10px 20px;
      background-color: #2ecc71;
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 10px;
    }
    
    button:hover {
      background-color: #27ae60;
    }
    
    .pronunciation {
      font-style: italic;
      color: #7f8c8d;
      text-align: center;
      margin-top: 5px;
    }
    
    .matched {
      background-color: #2ecc71;
      cursor: default;
    }
    
    .score-panel {
      font-size: 18px;
      color: #2c3e50;
    }
  </style>
</head>
<body>
  <h1>Character Memory Game</h1>
  
  <div class="game-info">
    <div class="score-panel">
      Moves: <span id="move-count">0</span>
    </div>
    <div class="score-panel">
      Time: <span id="timer">0</span>s
    </div>
    <div class="score-panel">
      Matches: <span id="match-count">0</span>/<span id="total-count">0</span>
    </div>
  </div>
  
  <div class="game-board" id="game-board"></div>
  
  <button id="start-btn">Start Game</button>
  <button id="restart-btn" style="display: none;">Play Again</button>
  
  <script>
    // Sample characters and their pronunciations (in a real scenario, these would be loaded dynamically)
    // const characters = [
    //   { char: "汉", pronunciation: "hàn" },
    //   { char: "字", pronunciation: "zì" },
    //   { char: "学", pronunciation: "xué" },
    //   { char: "习", pronunciation: "xí" }
    // ];


  const characterData = [
    { char: "ಅ", pronunciation: "a" },
    { char: "ಆ", pronunciation: "aa" },
    { char: "ಇ", pronunciation: "i" },
    { char: "ಈ", pronunciation: "ii" },
    { char: "ಉ", pronunciation: "u" },
    { char: "ಊ", pronunciation: "uu" },
    { char: "ಋ", pronunciation: "ru" },
    { char: "ಎ", pronunciation: "e" },
    { char: "ಏ", pronunciation: "ee" },
    { char: "ಐ", pronunciation: "ai" },
    { char: "ಒ", pronunciation: "o" },
    { char: "ಓ", pronunciation: "oo" },
    { char: "ಔ", pronunciation: "au" },

    { char: "ಕ", pronunciation: "ka" },
    { char: "ಖ", pronunciation: "kha" },
    { char: "ಗ", pronunciation: "ga" },
    { char: "ಘ", pronunciation: "gha" },
    { char: "ಙ", pronunciation: "nga" },

    { char: "ಚ", pronunciation: "cha" },
    { char: "ಛ", pronunciation: "chha" },
    { char: "ಜ", pronunciation: "ja" },
    { char: "ಝ", pronunciation: "jha" },
    { char: "ಞ", pronunciation: "nya" },

    { char: "ಟ", pronunciation: "ṭa" },
    { char: "ಠ", pronunciation: "ṭha" },
    { char: "ಡ", pronunciation: "ḍa" },
    { char: "ಢ", pronunciation: "ḍha" },
    { char: "ಣ", pronunciation: "ṇa" },

    { char: "ತ", pronunciation: "ta" },
    { char: "ಥ", pronunciation: "tha" },
    { char: "ದ", pronunciation: "da" },
    { char: "ಧ", pronunciation: "dha" },
    { char: "ನ", pronunciation: "na" },

    { char: "ಪ", pronunciation: "pa" },
    { char: "ಫ", pronunciation: "pha" },
    { char: "ಬ", pronunciation: "ba" },
    { char: "ಭ", pronunciation: "bha" },
    { char: "ಮ", pronunciation: "ma" },

    { char: "ಯ", pronunciation: "ya" },
    { char: "ರ", pronunciation: "ra" },
    { char: "ಲ", pronunciation: "la" },
    { char: "ವ", pronunciation: "va" },
    { char: "ಶ", pronunciation: "sha" },
    { char: "ಷ", pronunciation: "ṣha" },
    { char: "ಸ", pronunciation: "sa" },
    { char: "ಹ", pronunciation: "ha" },
    { char: "ಳ", pronunciation: "ḷa" },
    { char: "ಕ್ಷ", pronunciation: "kṣa" },
    { char: "ಜ್ಞ", pronunciation: "jña" }
  ];
    

  // Game state variables
  let cards = [];
  let hasFlippedCard = false;
    let lockBoard = false;
    let firstCard, secondCard;
    let moveCount = 0;
    let matchCount = 0;
    let timer = 0;
    let timerInterval;
    let initialViewTime = 3; // seconds to initially show all cards
    const NUM_CHARACTERS = 5;
    // DOM elements
    const gameBoard = document.getElementById('game-board');
    const moveCounter = document.getElementById('move-count');
    const matchCounter = document.getElementById('match-count');
    const totalCounter = document.getElementById('total-count');
    const timerDisplay = document.getElementById('timer');
    const startButton = document.getElementById('start-btn');
    const restartButton = document.getElementById('restart-btn');
    
    const shuffledCharacters = [...characterData].sort(() => Math.random() - 0.5);
    const characters = shuffledCharacters.slice(0, NUM_CHARACTERS);
    // Create cards and add them to the game board
    function createCards() {
      // Double the characters to create pairs
      const cardPairs = [...characters, ...characters];
      console.log(cardPairs)
      // Shuffle the array
      const shuffledCards = shuffle(cardPairs);
      
      // Create card elements
      shuffledCards.forEach((item, index) => {
        const card = document.createElement('div');
        card.classList.add('card');
        card.dataset.index = index;
        card.dataset.char = item.char;
        card.dataset.pronunciation = item.pronunciation;
        
        const cardFront = document.createElement('div');
        cardFront.classList.add('card-front');
        
        const charElement = document.createElement('div');
        charElement.classList.add('character');
        charElement.textContent = item.char;
        
        const pronElement = document.createElement('div');
        pronElement.classList.add('pronunciation');
        pronElement.textContent = item.pronunciation;
        
        cardFront.appendChild(charElement);
        cardFront.appendChild(pronElement);
        
        const cardBack = document.createElement('div');
        cardBack.classList.add('card-back');
        
        card.appendChild(cardFront);
        card.appendChild(cardBack);
        
        card.addEventListener('click', flipCard);
        
        gameBoard.appendChild(card);
        cards.push(card);
      });
    }
    
    // Shuffle array (Fisher-Yates algorithm)
    function shuffle(array) {
      const newArray = [...array];
      for (let i = newArray.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
      }
      return newArray;
    }
    
    // Flip card function
    function flipCard() {
      if (lockBoard) return;
      if (this === firstCard) return;
      
      this.classList.add('flipped');
      
      if (!hasFlippedCard) {
        // First card flipped
        hasFlippedCard = true;
        firstCard = this;
        return;
      }
      
      // Second card flipped
      secondCard = this;
      
      // Increment move count
      moveCount++;
      moveCounter.textContent = moveCount;
      
      checkForMatch();
    }
    
    // Check if the two flipped cards match
    function checkForMatch() {
      const isMatch = firstCard.dataset.char === secondCard.dataset.char;
      
      if (isMatch) {
        disableCards();
        matchCount++;
        matchCounter.textContent = matchCount;
        
        if (matchCount === characters.length) {
          setTimeout(() => {
            endGame();
          }, 500);
        }
      } else {
        unflipCards();
      }
    }
    
    // Disable matched cards
    function disableCards() {
      firstCard.removeEventListener('click', flipCard);
      secondCard.removeEventListener('click', flipCard);
      
      firstCard.classList.add('matched');
      secondCard.classList.add('matched');
      
      resetBoard();
    }
    
    // Unflip non-matching cards
    function unflipCards() {
      lockBoard = true;
      
      setTimeout(() => {
        firstCard.classList.remove('flipped');
        secondCard.classList.remove('flipped');
        
        resetBoard();
      }, 1000);
    }
    
    // Reset board after a turn
    function resetBoard() {
      [hasFlippedCard, lockBoard] = [false, false];
      [firstCard, secondCard] = [null, null];
    }
    
    // Start game function
    function startGame() {
      // Reset the game board
      gameBoard.innerHTML = '';
      cards = [];
      matchCount = 0;
      moveCount = 0;
      matchCounter.textContent = '0';
      totalCounter.textContent = NUM_CHARACTERS;
      moveCounter.textContent = '0';
      
      // Create cards
      createCards();
      
      // Start with all cards visible
      cards.forEach(card => card.classList.add('flipped'));
      
      // Start countdown to hide cards
      let countdown = initialViewTime;
      timerDisplay.textContent = countdown;
      
      const countdownInterval = setInterval(() => {
        countdown--;
        timerDisplay.textContent = countdown;
        
        if (countdown <= 0) {
          clearInterval(countdownInterval);
          
          // Hide all cards
          cards.forEach(card => card.classList.remove('flipped'));
          
          // Start the game timer
          timer = 0;
          timerInterval = setInterval(() => {
            timer++;
            timerDisplay.textContent = timer;
          }, 1000);
        }
      }, 1000);
      
      // Hide start button, show restart button
      startButton.style.display = 'none';
      restartButton.style.display = 'inline-block';
    }
    
    // End game function
    function endGame() {
      clearInterval(timerInterval);
      alert(`Congratulations! You completed the game in ${timer} seconds with ${moveCount} moves.`);
    }
    
    // Event listeners
    startButton.addEventListener('click', startGame);
    restartButton.addEventListener('click', startGame);
  </script>
</body>
</html>
